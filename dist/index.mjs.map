<<<<<<< HEAD
{"version":3,"file":"index.mjs","sources":["../src/index.ts"],"sourcesContent":["import get from 'lodash.get'\nimport set from 'lodash.set'\nimport isArray from 'lodash.isarray'\nimport isPlainObject from 'lodash.isplainobject'\n\nclass DryReplacer {\n  data: object\n\n  constructor(data: object) {\n    this.data = data\n  }\n\n  replaceValue(key: string, value: any, data: object, template: object): void {\n    let matchedArray = String(value).match(/{{.*?}}/g) // extract only {{}} pattern\n\n    if (matchedArray) {\n      for (let item of matchedArray.reverse()) {\n        let patternKey = item.replace(/[{}]/g, '')\n        let spotting = get(template, key)\n\n        let valueFromData = get(data, patternKey)\n        let newValue = valueFromData\n\n        if (['string'].includes(typeof valueFromData)) {\n          newValue = spotting.replace(item, valueFromData)\n        }\n\n        if (['number'].includes(typeof valueFromData)) {\n          newValue = spotting.replace(item, valueFromData)\n        }\n\n        set(template, key, newValue)\n      }\n    }\n  }\n\n  recursiveReplace(data: object, template: any): object {\n    for (let key of Object.keys(template)) {\n      let value = template[key]\n\n      if (isPlainObject(value)) {\n        this.recursiveReplace(data, value)\n      } else if (isArray(value)) {\n        value.map((item) => this.recursiveReplace(data, item))\n      } else {\n        this.replaceValue(key, value, data, template)\n      }\n    }\n    return template\n  }\n\n  try(jsonToParse: string): object {\n    let template = JSON.parse(jsonToParse)\n    this.recursiveReplace(this.data, template)\n\n    return template\n  }\n}\n\nexport default DryReplacer\n"],"names":["DryReplacer","data","this","replaceValue","key","value","template","matchedArray","String","match","_step","_iterator","_createForOfIteratorHelperLoose","reverse","done","item","patternKey","replace","spotting","get","valueFromData","newValue","includes","set","recursiveReplace","_this","Object","keys","_i","_Object$keys","length","isPlainObject","isArray","map","_proto","jsonToParse","JSON","parse"],"mappings":"gOAKMA,IAAWA,eAAA,WAGf,WAAYC,GAFZA,KAAAA,UAGE,EAAAC,KAAKD,KAAOA,CACd,CAAC,IAEDE,EAAAA,EAAAA,UA4CC,OA5CDA,EAAAA,aAAA,SAAaC,EAAaC,EAAYJ,EAAcK,GAClD,IAAIC,EAAeC,OAAOH,GAAOI,MAAM,YAEvC,GAAIF,EACF,IAAA,IAAuCG,EAAvCC,2qBAAAC,CAAiBL,EAAaM,aAASH,EAAAC,KAAAG,MAAE,CAAhCC,IAAAA,EACPL,EAAAL,MAAcW,EAAGD,EAAKE,QAAQ,QAAS,IAC3BC,EAAGC,EAAIb,EAAUF,GAEzBgB,EAAgBD,EAAIlB,EAAMe,GAClBK,EAAGD,EAEX,CAAC,UAAUE,gBAAgBF,KAC7BC,EAAWH,EAASD,QAAQF,EAAMK,IAGhC,CAAC,UAAUE,gBAA6BF,KAC1CC,EAAWH,EAASD,QAAQF,EAAMK,IAGpCG,EAAIjB,EAAUF,EAAKiB,EACpB,CAEL,IAEAG,iBAAA,SAAiBvB,EAAcK,GAC7B,IAD0C,IAAAmB,EAAAvB,WAC1BwB,OAAOC,KAAKrB,GAAWsB,EAAAC,EAAAC,OAAAF,IAAA,CAAlC,IAAOxB,EAAAyB,EAAAD,GACNvB,EAAQC,EAASF,GAEjB2B,EAAc1B,GAChBH,KAAKsB,iBAAiBvB,EAAMI,GACnB2B,EAAQ3B,GACjBA,EAAM4B,IAAI,SAAClB,GAAI,OAASU,EAACD,iBAAiBvB,EAAMc,EAAK,GAErDb,KAAKC,aAAaC,EAAKC,EAAOJ,EAAMK,EAEvC,CACD,OACFA,CAAA,EAEA4B,EAAA,IAAA,SAAIC,GACF,IAAI7B,EAAW8B,KAAKC,MAAMF,GAG1B,OAFAjC,KAAKsB,iBAAiBtB,KAAKD,KAAMK,GAE1BA,CACT,EAACN,CAAA,CAnDc"}
=======
{"version":3,"file":"index.mjs","sources":["../src/index.ts"],"sourcesContent":["import get from 'lodash.get'\nimport set from 'lodash.set'\nimport isArray from 'lodash.isarray'\nimport isPlainObject from 'lodash.isplainobject'\n\ntype Options = {\n  strict?: boolean\n}\n\nclass DryReplacer {\n  data: object\n  strict: boolean = true\n\n  constructor(data: object, options?: Options) {\n    this.data = data\n    this.strict = options?.strict\n  }\n\n  replaceValue(key: string, value: any, data: object, template: object): void {\n    let matchedArray = String(value).match(/{{.*?}}/g) // extract only {{}} pattern\n\n    if (matchedArray) {\n      for (let item of matchedArray.reverse()) {\n        let patternKey = item.replace(/[{}]/g, '')\n        let spotting = get(template, key)\n\n        let valueFromData = get(data, patternKey)\n        let newValue = valueFromData\n        \n        if (['undefined', undefined, null, 'string'].includes(typeof valueFromData)) {\n          if (this.strict) {\n            newValue = spotting.replace(item, valueFromData)\n          } else {\n            newValue = spotting.replace(item, valueFromData || '')\n          }\n        }\n\n        \n        set(template, key, newValue)\n      }\n    }\n  }\n\n  recursiveReplace(data: object, template: any): object {\n    for (let key of Object.keys(template)) {\n      let value = template[key]\n\n      if (isPlainObject(value)) {\n        this.recursiveReplace(data, value)\n      } else if (isArray(value)) {\n        value.map((item) => this.recursiveReplace(data, item))\n      } else {\n        this.replaceValue(key, value, data, template)\n      }\n    }\n    return template\n  }\n\n  try(jsonToParse: string): object {\n    let template = JSON.parse(jsonToParse)\n    this.recursiveReplace(this.data, template)\n\n    return template\n  }\n}\n\nexport default DryReplacer\n"],"names":["DryReplacer","data","options","strict","this","_proto","prototype","replaceValue","key","value","template","matchedArray","String","match","_step","reverse","_iterator","done","patternKey","item","replace","get","newValue","valueFromData","undefined","includes","spotting","set","recursiveReplace","_this","Object","keys","_Object$keys","_i","isPlainObject","isArray","map","jsonToParse","JSON","parse"],"mappings":"gOASMA,IAAWA,eAAA,WAIf,SAAYC,EAAAA,EAAcC,GAH1BD,KAAAA,iBACAE,QAAkB,EAGhBC,KAAKH,KAAOA,EACZG,KAAKD,OAAgB,MAAPD,OAAO,EAAPA,EAASC,MACzB,CAAC,IAAAE,EAAAL,EAAAM,UA+CA,OA/CAD,EAEDE,aAAA,SAAaC,EAAaC,EAAYR,EAAcS,GAClD,IAAgBC,EAAGC,OAAOH,GAAOI,MAAM,YAEvC,GAAIF,EACF,IAAiBA,IAAwBG,EAAxBH,2qBAAAA,CAAAA,EAAaI,aAAWD,EAAAE,KAAAC,MAAA,CAAA,MACvCH,EAAAL,MAAcS,EAAGC,EAAKC,QAAQ,QAAS,MACxBC,EAAIX,EAAUF,KAETa,EAAIpB,EAAMiB,GAClBI,EAAGC,EAEX,CAAC,iBAAaC,EAAW,KAAM,UAAUC,gBAAgBF,KAEzDD,EAAWI,EAASN,QAAQD,EAD1Bf,KAAKD,OAC2BoB,EAEAA,GAAiB,KAKvDI,EAAIjB,EAAUF,EAAKc,EACpB,CAEL,EAEAM,EAAAA,iBAAA,SAAiB3B,EAAcS,GAC7B,IAD0C,IAAAmB,EAAAzB,KAC1B0B,EAAAA,EAAAA,EAAAA,OAAOC,KAAKrB,kBAAW,CAAlC,IAAOF,EAAAwB,EAAAC,GACDxB,EAAGC,EAASF,GAEjB0B,EAAczB,GAChBL,KAAKwB,iBAAiB3B,EAAMQ,GACnB0B,EAAQ1B,GACjBA,EAAM2B,IAAI,SAACjB,GAAI,SAAUS,iBAAiB3B,EAAMkB,EAAK,GAErDf,KAAKG,aAAaC,EAAKC,EAAOR,EAAMS,EAEvC,CACD,OACFA,CAAA,QAEA,SAAI2B,GACF,IAAY3B,EAAG4B,KAAKC,MAAMF,GAG1B,OAFAjC,KAAKwB,iBAAiBxB,KAAKH,KAAMS,GAE1BA,CACT,EAACV,CAAA,CAtDc"}
>>>>>>> 2b856851a27a4269c36b8bcc7edcc6c4eb544550
