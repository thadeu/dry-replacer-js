import e from"lodash.get";import t from"lodash.set";import r from"lodash.isarray";import s from"lodash.isplainobject";class i{constructor(e,t){this.data=void 0,this.strict=!0,this.keepTypeof=!1,this.data=e,this.strict=null==t?void 0:t.strict,this.keepTypeof=null==t?void 0:t.keepTypeof}replaceValue(r,s,i,l){let a=String(s).match(/{{.*?}}/g);if(a)for(let s of a.reverse()){let a=s.replace(/[{}]/g,""),o=e(l,r),p=e(i,a),c=p;["undefined",void 0,null,"string"].includes(typeof p)&&(c=o.replace(s,this.strict?p:p||"")),["number"].includes(typeof p)&&(c=o.replace(s,p),this.keepTypeof&&/^-?\.?_?\d+$/.test(c)&&(c=Number(c))),t(l,r,c)}}recursiveReplace(e,t){for(let i of Object.keys(t)){let l=t[i];s(l)?this.recursiveReplace(e,l):r(l)?l.map(t=>this.recursiveReplace(e,t)):this.replaceValue(i,l,e,t)}return t}try(e){let t=JSON.parse(e);return this.recursiveReplace(this.data,t),t}}export{i as default};
//# sourceMappingURL=index.modern.mjs.map
